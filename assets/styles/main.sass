@charset "utf-8"

@import "./fa.sass"

@import "bulma/utilities/initial-variables"
@import "bulma/utilities/functions"

// make view narrower
$widescreen: $desktop
$fullhd: $desktop

// custom fonts
$family-sans-serif: "Fira Sans", "Helvetica Neue", Helvetica, Arial, sans-serif
$family-monospace: "Source Serif Pro", monospace

@import "bulma/utilities/_all"

@import "bulma/helpers/color"
@import "bulma/helpers/typography"
@import "bulma/helpers/visibility"

@import "bulma/base/minireset"
@import "bulma/base/generic"

@import "bulma/elements/box"
@import "bulma/elements/button"
@import "bulma/elements/container"
@import "bulma/elements/content"
@import "bulma/elements/form"
@import "bulma/elements/notification"
@import "bulma/elements/table"
@import "bulma/elements/tag"
@import "bulma/elements/title"

@import "bulma/form/_all"

@import "bulma/components/level"
@import "bulma/components/message"
@import "bulma/components/navbar"
@import "bulma/components/tabs"

@import "bulma/grid/columns"
@import "bulma/layout/_all"

// Badge tabs integrated with standard Bulma pre blocks
.badge-group
  display: flex
  flex-direction: column
  position: relative
  // No background or border on the wrapper itself

  .tabs
    align-self: flex-end
    border-bottom: none
    flex-shrink: 0
    margin-bottom: 0
    padding: 0
    width: auto
    z-index: 1 // Sit above the pre block

    ul
      border-bottom: none
      justify-content: flex-end
      gap: 1px

    li
      margin: 0

      button
        align-items: center
        // Inactive state: slightly darker than the pre background to look "behind"
        background-color: darken($background, 5%)
        border: 1px solid transparent
        border-bottom: none
        border-radius: $radius $radius 0 0
        color: $text-light
        cursor: pointer
        display: flex
        font-size: 0.75rem
        font-weight: $weight-medium
        justify-content: center
        line-height: 1
        margin-bottom: 0
        padding: 0.4rem 0.75rem
        position: relative
        transition: background-color 0.2s, color 0.2s
        user-select: none
        
        &:hover
          background-color: darken($background, 2%)
          color: $text-strong

        // Active state: matches the pre block background ($background / $white-ter)
        &[aria-selected="true"]
          background-color: $background // Match Bulma pre background
          color: $text-strong
          // Create a seamless connection
          padding-bottom: calc(0.4rem + 1px) 
          margin-bottom: -1px
          
          // Optional: if pre has a border, match it. 
          // Bulma pre usually has no border, just background.
          // If it does, we'd add border logic here. 
          
          &::after
            // The "masking tape" to hide any sub-pixel gap
            content: ""
            display: block
            position: absolute
            bottom: -1px
            left: 0
            right: 0
            height: 2px
            background-color: $background // Match pre background
            z-index: 10

      button:focus-visible
        outline: 2px solid $link
        outline-offset: -2px

  // The code block (pre)
  // We target the specific pre inside our group to apply necessary tweaks
  .badge-code
    border-top-right-radius: 0 // Flatten top-right to attach tab
    position: relative
    z-index: 0
    margin-top: 0
    padding: 0.5rem 1rem // More compact padding to reduce height
